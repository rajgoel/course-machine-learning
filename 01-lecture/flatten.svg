<svg width="1000" height="400" xmlns="http://www.w3.org/2000/svg" style="transform:scale(2);">
    <!-- 3x3 Matrix -->
    <g transform="translate(50,50)">
        <rect x="0" y="0" width="30" height="30" fill="lightgray" stroke="black"/>
        <text x="15" y="20" font-size="16" text-anchor="middle" fill="black">1</text>

        <rect x="30" y="0" width="30" height="30" fill="lightgray" stroke="black"/>
        <text x="45" y="20" font-size="16" text-anchor="middle" fill="black">2</text>

        <rect x="60" y="0" width="30" height="30" fill="lightgray" stroke="black"/>
        <text x="75" y="20" font-size="16" text-anchor="middle" fill="black">3</text>
      
        <rect x="0" y="30" width="30" height="30" fill="lightgray" stroke="black"/>
        <text x="15" y="50" font-size="16" text-anchor="middle" fill="black">4</text>

        <rect x="30" y="30" width="30" height="30" fill="lightgray" stroke="black"/>
        <text x="45" y="50" font-size="16" text-anchor="middle" fill="black">5</text>

        <rect x="60" y="30" width="30" height="30" fill="lightgray" stroke="black"/>
        <text x="75" y="50" font-size="16" text-anchor="middle" fill="black">6</text>
        
        <rect x="0" y="60" width="30" height="30" fill="lightgray" stroke="black"/>
        <text x="15" y="80" font-size="16" text-anchor="middle" fill="black">7</text>

        <rect x="30" y="60" width="30" height="30" fill="lightgray" stroke="black"/>
        <text x="45" y="80" font-size="16" text-anchor="middle" fill="black">8</text>

        <rect x="60" y="60" width="30" height="30" fill="lightgray" stroke="black"/>
        <text x="75" y="80" font-size="16" text-anchor="middle" fill="black">9</text>
    </g>

    <!-- Arrows showing flattening -->
    <line x1="150" y1="95" x2="190" y2="95" stroke="black" stroke-width="2" marker-end="url(#arrowhead)" />
    
    <!-- Flattened row -->
    <g transform="translate(200,80)">
        <rect x="0" y="0" width="30" height="30" fill="lightgray" stroke="black"/>
        <text x="15" y="20" font-size="16" text-anchor="middle" fill="black">1</text>

        <rect x="30" y="0" width="30" height="30" fill="lightgray" stroke="black"/>
        <text x="45" y="20" font-size="16" text-anchor="middle" fill="black">2</text>

        <rect x="60" y="0" width="30" height="30" fill="lightgray" stroke="black"/>
        <text x="75" y="20" font-size="16" text-anchor="middle" fill="black">3</text>

        <rect x="90" y="0" width="30" height="30" fill="lightgray" stroke="black"/>
        <text x="105" y="20" font-size="16" text-anchor="middle" fill="black">4</text>

        <rect x="120" y="0" width="30" height="30" fill="lightgray" stroke="black"/>
        <text x="135" y="20" font-size="16" text-anchor="middle" fill="black">5</text>

        <rect x="150" y="0" width="30" height="30" fill="lightgray" stroke="black"/>
        <text x="165" y="20" font-size="16" text-anchor="middle" fill="black">6</text>

        <rect x="180" y="0" width="30" height="30" fill="lightgray" stroke="black"/>
        <text x="195" y="20" font-size="16" text-anchor="middle" fill="black">7</text>

        <rect x="210" y="0" width="30" height="30" fill="lightgray" stroke="black"/>
        <text x="225" y="20" font-size="16" text-anchor="middle" fill="black">8</text>

        <rect x="240" y="0" width="30" height="30" fill="lightgray" stroke="black"/>
        <text x="255" y="20" font-size="16" text-anchor="middle" fill="black">9</text>
    </g>

    <!-- Marker definition for arrowhead -->
    <defs>
        <marker id="arrowhead" markerWidth="10" markerHeight="7" refX="10" refY="3.5" orient="auto">
            <polygon points="0 0, 10 3.5, 0 7" fill="black"/>
        </marker>
    </defs>
</svg>
